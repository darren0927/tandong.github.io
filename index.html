<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>èµ„æœ¬è®ºç ”è¯»å¿ƒå¾— - ä¸ªäººè¯»ä¹¦ç¬”è®°</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "æ€æºå®‹ä½“", "å®‹ä½“", serif;
        }
        /* å…¨å±€æ ·å¼-æ ¸å¿ƒé…è‰² */
        :root {
            --primary: #222222; /* ä¸»è‰²-æ·±ç°é»‘ï¼Œæ­£æ–‡æ ¸å¿ƒè‰² */
            --accent: #8C2C2C;  /* å¼ºè°ƒè‰²-æš—çº¢ï¼Œæ ‡é¢˜/é‡ç‚¹/å¯¼èˆªï¼Œè´´åˆèµ„æœ¬è®ºç»å…¸æ„Ÿ */
            --bg-light: #F8F5F0; /* èƒŒæ™¯è‰²-ç±³ç™½ï¼ŒæŠ¤çœ¼é˜…è¯» */
            --bg-card: #FFFFFF;  /* å¡ç‰‡èƒŒæ™¯-çº¯ç™½ï¼Œåˆ†åŒºéš”ç¦» */
            --gray: #666666;     /* ç°è‰²-æ¬¡è¦æ–‡æœ¬ */
            --light-gray: #E5E1DB; /* æµ…ç°-åˆ†å‰²çº¿/è¾¹æ¡† */
            --mark-color: #F1D6D6; /* æ–°å¢ï¼šåˆ’çº¿é«˜äº®åº•è‰²-æµ…æš—çº¢ï¼ŒæŠ¤çœ¼ä¸åˆºçœ¼ */
            --menu-bg: #ffffff;  /* æ–°å¢ï¼šæ‚¬æµ®èœå•èƒŒæ™¯ */
        }
        body {
            background-color: var(--bg-light);
            color: var(--primary);
            line-height: 1.8;
            font-size: 16px;
            padding-top: 70px;
            position: relative;
        }
        a {
            text-decoration: none;
            color: var(--accent);
            transition: all 0.3s;
        }
        a:hover {
            color: #A83A3A;
            text-decoration: underline;
        }
        /* é¡¶éƒ¨å¯¼èˆªæ -å›ºå®šç½®é¡¶+æ»šåŠ¨é€‚é… */
        header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background-color: var(--primary);
            z-index: 999;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 70px;
        }
        .logo {
            color: white;
            font-size: 20px;
            font-weight: bold;
        }
        .logo span {
            color: var(--accent);
        }
        .nav-menu {
            display: flex;
            gap: 30px;
        }
        .nav-menu a {
            color: white;
            font-size: 15px;
        }
        .nav-menu a:hover {
            color: var(--accent);
            text-decoration: none;
        }
        .mobile-menu-btn {
            display: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
        }
        /* å®¹å™¨æ ·å¼-å±…ä¸­+å®½åº¦é€‚é… */
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 40px 20px;
        }
        /* æ ¸å¿ƒæ ‡é¢˜åŒº-åšå®¢å¤´éƒ¨ */
        .hero {
            text-align: center;
            margin-bottom: 60px;
            padding-bottom: 30px;
            border-bottom: 1px solid var(--light-gray);
        }
        .hero h1 {
            font-size: 36px;
            color: var(--accent);
            margin-bottom: 15px;
            font-weight: bold;
        }
        .hero p {
            font-size: 18px;
            color: var(--gray);
        }
        /* åšä¸»å¯„è¯­/å‰è¨€æ¿å— */
        .preface {
            background-color: var(--bg-card);
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            margin-bottom: 50px;
        }
        .preface h3 {
            color: var(--accent);
            margin-bottom: 20px;
            font-size: 20px;
            border-left: 4px solid var(--accent);
            padding-left: 10px;
        }
        /* æ ¸å¿ƒå†…å®¹-ç« èŠ‚å¿ƒå¾—æ¿å— */
        .content-section {
            margin-bottom: 60px;
        }
        .section-title {
            font-size: 26px;
            color: var(--primary);
            margin-bottom: 30px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--light-gray);
            position: relative;
        }
        .section-title::after {
            content: "";
            width: 80px;
            height: 2px;
            background-color: var(--accent);
            position: absolute;
            left: 0;
            bottom: -2px;
        }
        /* è¯»ä¹¦ç¬”è®°å¡ç‰‡æ ·å¼ */
        .note-card {
            background-color: var(--bg-card);
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            margin-bottom: 30px;
            transition: all 0.3s;
        }
        .note-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
        }
        .note-card h4 {
            color: var(--accent);
            font-size: 20px;
            margin-bottom: 20px;
        }
        .note-card .subtitle {
            color: var(--gray);
            font-size: 14px;
            margin-bottom: 20px;
            font-style: italic;
        }
        /* åŸæ–‡æ‘˜å½•æ ·å¼-åŒºåˆ†ä¸ªäººå¿ƒå¾— */
        .quote {
            border-left: 4px solid var(--accent);
            padding: 15px 20px;
            background-color: var(--bg-light);
            margin: 20px 0;
            color: var(--primary);
            font-size: 15px;
        }
        /* é‡ç‚¹æ„Ÿæ‚Ÿé«˜äº®æ ·å¼ */
        .highlight {
            color: var(--accent);
            font-weight: bold;
        }
        /* æ®µè½é—´è·ä¼˜åŒ– */
        p {
            margin-bottom: 20px;
            text-align: justify;
        }
        ul {
            margin-left: 30px;
            margin-bottom: 20px;
        }
        /* å›åˆ°é¡¶éƒ¨æŒ‰é’® */
        .back-to-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 50px;
            height: 50px;
            background-color: var(--accent);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
            transition: all 0.3s;
            opacity: 0;
            pointer-events: none;
            z-index: 998;
        }
        .back-to-top.show {
            opacity: 1;
            pointer-events: auto;
        }
        .back-to-top:hover {
            background-color: #A83A3A;
        }
        /* é¡µè„šæ ·å¼ */
        footer {
            background-color: var(--primary);
            color: white;
            text-align: center;
            padding: 30px 0;
            margin-top: 80px;
            font-size: 14px;
        }
        footer p {
            margin-bottom: 0;
        }
        /* å“åº”å¼é€‚é…-æ‰‹æœº/å¹³æ¿ */
        @media (max-width: 768px) {
            .nav-menu {
                display: none;
            }
            .mobile-menu-btn {
                display: block;
            }
            .hero h1 {
                font-size: 28px;
            }
            .section-title {
                font-size: 22px;
            }
            .note-card {
                padding: 20px;
            }
            .back-to-top {
                width: 40px;
                height: 40px;
                bottom: 20px;
                right: 20px;
            }
            .comment-panel {
                width: 90% !important;
                left: 5% !important;
            }
            .selection-menu {
                transform: scale(0.9);
            }
        }
        /* ====================== æ–°å¢ï¼šåˆ’çº¿è¯„è®ºåŠŸèƒ½ æ‰€æœ‰æ ·å¼ ====================== */
        /* é€‰ä¸­æ–‡å­—çš„é«˜äº®æ ·å¼ */
        mark.highlight-text {
            background-color: var(--mark-color);
            color: var(--primary);
            padding: 0 2px;
            border-radius: 2px;
        }
        /* é€‰ä¸­æ–‡æœ¬åå¼¹å‡ºçš„æ‚¬æµ®èœå• */
        .selection-menu {
            position: absolute;
            background: var(--menu-bg);
            border-radius: 6px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 8px;
            display: flex;
            gap: 8px;
            z-index: 997;
            border: 1px solid var(--light-gray);
            display: none;
        }
        .selection-menu button {
            border: none;
            background: none;
            color: var(--primary);
            cursor: pointer;
            padding: 4px 10px;
            border-radius: 4px;
            font-size: 14px;
            transition: all 0.2s;
        }
        .selection-menu button:hover {
            background-color: var(--mark-color);
            color: var(--accent);
        }
        .selection-menu button:active {
            background-color: var(--accent);
            color: white;
        }
        /* è¯„è®ºè¾“å…¥å¼¹çª— */
        .comment-modal {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--bg-card);
            border-radius: 8px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
            padding: 20px;
            width: 400px;
            z-index: 1000;
            display: none;
        }
        .comment-modal h5 {
            color: var(--accent);
            margin-bottom: 15px;
            font-size: 16px;
        }
        .comment-modal textarea {
            width: 100%;
            min-height: 80px;
            padding: 10px;
            border: 1px solid var(--light-gray);
            border-radius: 4px;
            resize: none;
            font-family: inherit;
            line-height: 1.6;
            margin-bottom: 15px;
            font-size: 14px;
        }
        .comment-modal .modal-btn-group {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }
        .comment-modal button {
            padding: 6px 15px;
            border-radius: 4px;
            border: none;
            cursor: pointer;
            font-size: 14px;
        }
        .btn-cancel {
            background-color: var(--bg-light);
            color: var(--gray);
        }
        .btn-save {
            background-color: var(--accent);
            color: white;
        }
        .btn-save:hover {
            background-color: #A83A3A;
        }
        /* æ‰¹æ³¨é¢æ¿ï¼šå±•ç¤ºæ‰€æœ‰åˆ’çº¿+è¯„è®º */
        .comment-panel {
            position: fixed;
            top: 80px;
            right: 20px;
            background: var(--bg-card);
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            padding: 15px;
            width: 300px;
            max-height: calc(100vh - 100px);
            overflow-y: auto;
            z-index: 996;
            border: 1px solid var(--light-gray);
        }
        .comment-panel h4 {
            color: var(--accent);
            font-size: 18px;
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 1px solid var(--light-gray);
        }
        .comment-item {
            padding: 10px 0;
            border-bottom: 1px dashed var(--light-gray);
            font-size: 13px;
        }
        .comment-item .mark-text {
            color: var(--primary);
            font-weight: 500;
            margin-bottom: 5px;
            display: block;
            line-height: 1.5;
        }
        .comment-item .mark-comment {
            color: var(--accent);
            margin-bottom: 5px;
            line-height: 1.5;
        }
        .comment-item .mark-time {
            color: var(--gray);
            font-size: 12px;
        }
        .comment-item .del-btn {
            margin-top: 8px;
            background: none;
            border: none;
            color: var(--gray);
            cursor: pointer;
            font-size: 12px;
        }
        .comment-item .del-btn:hover {
            color: var(--accent);
        }
        .clear-all {
            margin-top: 15px;
            width: 100%;
            padding: 6px;
            border: 1px solid var(--light-gray);
            border-radius: 4px;
            background: var(--bg-light);
            color: var(--gray);
            cursor: pointer;
            font-size: 13px;
        }
        .clear-all:hover {
            color: var(--accent);
            border-color: var(--accent);
        }
        .empty-tip {
            text-align: center;
            color: var(--gray);
            font-size: 14px;
            padding: 20px 0;
        }
    </style>
</head>
<body>
    <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
    <header>
        <div class="nav-container">
            <div class="logo">èµ„æœ¬è®º<span>ç ”è¯»</span></div>
            <nav class="nav-menu">
                <a href="#preface">åšä¸»å¯„è¯­</a>
                <a href="#chapter1">ç¬¬ä¸€å·å¿ƒå¾—</a>
                <a href="#chapter2">æ ¸å¿ƒè®¤çŸ¥</a>
                <a href="#thinking">å»¶ä¼¸æ€è€ƒ</a>
            </nav>
            <div class="mobile-menu-btn">â˜°</div>
        </div>
    </header>

    <!-- ä¸»å†…å®¹å®¹å™¨ -->
    <div class="container">
        <!-- åšå®¢æ ‡é¢˜åŒº -->
        <section class="hero">
            <h1>ã€Šèµ„æœ¬è®ºã€‹ç ”è¯»å¿ƒå¾—æ€»ç»“</h1>
            <p>ä»¥æ€è¯»ç»å…¸ï¼Œä»¥æ‚Ÿè§£æœ¬è´¨ | ä¸ªäººè¯»ä¹¦ç¬”è®° Â· æŒç»­æ›´æ–°</p>
        </section>

        <!-- åšä¸»å¯„è¯­/å‰è¨€ -->
        <section class="preface" id="preface">
            <h3>å†™åœ¨å‰é¢çš„è¯</h3>
            <p>é‡è¯»ã€Šèµ„æœ¬è®ºã€‹ï¼Œå¹¶éä¸ºäº†å¯»ç« æ‘˜å¥ï¼Œè€Œæ˜¯å¸Œæœ›ç«™åœ¨å½“ä¸‹çš„è§†è§’ï¼Œè¯»æ‡‚é©¬å…‹æ€ç¬”ä¸‹çš„èµ„æœ¬æœ¬è´¨ã€å•†å“é€»è¾‘ä¸ç¤¾ä¼šè§„å¾‹ã€‚è¿™éƒ¨è‘—ä½œä¸æ˜¯å°˜å°çš„ç†è®ºï¼Œè€Œæ˜¯å‰–æç°å®çš„é’¥åŒ™ï¼Œå®ƒæ­ç¤ºçš„ä¸ä»…æ˜¯èµ„æœ¬ä¸»ä¹‰çš„è¿è¡Œæ³•åˆ™ï¼Œæ›´æ˜¯äººç±»ç¤¾ä¼šå‘å±•ä¸­å…³äºåŠ³åŠ¨ã€ä»·å€¼ã€åˆ†é…çš„åº•å±‚é€»è¾‘ã€‚</p>
            <p>ç ”è¯»çš„è¿‡ç¨‹ï¼Œæ˜¯è§£æƒ‘ä¹Ÿæ˜¯æ€è€ƒï¼Œæ˜¯å¯¹è¿‡å¾€è®¤çŸ¥çš„é‡æ„ï¼Œä¹Ÿæ˜¯å¯¹ç°å®ç°è±¡çš„æº¯æºã€‚æœ¬åšå®¢è®°å½•çš„ï¼Œæ˜¯é˜…è¯»ä¸­çš„ç‚¹æ»´æ„Ÿæ‚Ÿã€æ ¸å¿ƒè§‚ç‚¹æ¢³ç†ä¸ä¸ªäººæ€è€ƒï¼Œä¸æ±‚å°½å–„å°½ç¾ï¼Œä½†æ±‚ç”¨å¿ƒè¯»æ‡‚ã€è¯»é€ï¼Œä¹Ÿå¸Œæœ›èƒ½ä¸åŒå¥½å…±å‹‰ã€‚</p>
        </section>

        <!-- æ ¸å¿ƒç ”è¯»å¿ƒå¾—-ç¬¬ä¸€å· å•†å“ä¸è´§å¸ -->
        <section class="content-section" id="chapter1">
            <h2 class="section-title">ç¬¬ä¸€å· Â· å•†å“ä¸è´§å¸ æ ¸å¿ƒå¿ƒå¾—</h2>
            <div class="note-card">
                <h4>ä¸€ã€å•†å“çš„äºŒé‡æ€§ï¼šä½¿ç”¨ä»·å€¼ä¸ä»·å€¼</h4>
                <div class="subtitle">ã€Šèµ„æœ¬è®ºã€‹å¼€ç¯‡æ ¸å¿ƒè§‚ç‚¹ï¼Œä¹Ÿæ˜¯ç†è§£å…¨ä¹¦çš„åŸºçŸ³</div>
                <p>é©¬å…‹æ€å¼€ç¯‡å³ç‚¹æ˜ï¼š<span class="highlight">å•†å“æ˜¯èµ„æœ¬ä¸»ä¹‰ç¤¾ä¼šçš„ç»†èƒï¼Œæ˜¯æœ€ç®€å•ã€æœ€åŸºæœ¬çš„å­˜åœ¨å½¢å¼</span>ã€‚ä¸€åˆ‡çš„åˆ†æï¼Œéƒ½ä»å•†å“çš„äºŒé‡æ€§å¼€å§‹â€”â€”å•†å“åŒæ—¶å…·æœ‰ã€Œä½¿ç”¨ä»·å€¼ã€ä¸ã€Œä»·å€¼ã€ã€‚</p>
                <p>ä½¿ç”¨ä»·å€¼æ˜¯å•†å“çš„è‡ªç„¶å±æ€§ï¼Œæ˜¯ç‰©å“èƒ½æ»¡è¶³äººä»¬æŸç§éœ€è¦çš„æ•ˆç”¨ï¼Œæ¯”å¦‚ç²®é£Ÿèƒ½æœè…¹ã€è¡£ç‰©èƒ½å¾¡å¯’ï¼Œå®ƒä¸å…·ä½“çš„åŠ³åŠ¨å½¢å¼ç»‘å®šï¼›è€Œä»·å€¼æ˜¯å•†å“çš„ç¤¾ä¼šå±æ€§ï¼Œæ˜¯å‡ç»“åœ¨å•†å“ä¸­çš„æ— å·®åˆ«çš„äººç±»ä¸€èˆ¬åŠ³åŠ¨ï¼Œå®ƒæ˜¯å•†å“äº¤æ¢çš„åŸºç¡€ã€‚</p>
                <div class="quote">åŸæ–‡æ‘˜å½•ï¼šã€Œç‰©çš„æœ‰ç”¨æ€§ä½¿ç‰©æˆä¸ºä½¿ç”¨ä»·å€¼ã€‚ä½†è¿™ç§æœ‰ç”¨æ€§ä¸æ˜¯æ‚¬åœ¨ç©ºä¸­çš„ã€‚å®ƒå†³å®šäºå•†å“ä½“çš„å±æ€§ï¼Œç¦»å¼€äº†å•†å“ä½“å°±ä¸å­˜åœ¨ã€‚ã€</div>
                <p>ä¸ªäººæ„Ÿæ‚Ÿï¼šè¿™ä¸€è§‚ç‚¹çš„æ ¸å¿ƒï¼Œæ˜¯æ‰“ç ´äº†ã€Œå•†å“ä»·å€¼ç”±æ•ˆç”¨å†³å®šã€çš„è¯¯åŒºã€‚ä¸€ä»¶å•†å“çš„ä»·æ ¼é«˜ä½ï¼Œå¹¶éå®Œå…¨å–å†³äºå®ƒæœ‰å¤šã€Œæœ‰ç”¨ã€ï¼Œè€Œæ˜¯å–å†³äºç”Ÿäº§å®ƒæ‰€è€—è´¹çš„ç¤¾ä¼šå¿…è¦åŠ³åŠ¨æ—¶é—´ï¼Œè¿™æ˜¯ç†è§£åç»­ã€Œå‰©ä½™ä»·å€¼ã€çš„å…³é”®å‰æã€‚</p>
            </div>

            <div class="note-card">
                <h4>äºŒã€è´§å¸çš„æœ¬è´¨ï¼šå›ºå®šå……å½“ä¸€èˆ¬ç­‰ä»·ç‰©çš„å•†å“</h4>
                <p>è´§å¸å¹¶éå¤©ç”Ÿå­˜åœ¨ï¼Œè€Œæ˜¯å•†å“äº¤æ¢å‘å±•åˆ°ä¸€å®šé˜¶æ®µçš„å¿…ç„¶äº§ç‰©ã€‚ä»ç®€å•çš„ç‰©ç‰©äº¤æ¢ï¼Œåˆ°ä¸€èˆ¬ç­‰ä»·ç‰©çš„å‡ºç°ï¼Œå†åˆ°é‡‘é“¶å›ºå®šæˆä¸ºè´§å¸ï¼Œè´§å¸çš„æœ¬è´¨ä»æœªæ”¹å˜â€”â€”å®ƒä¾ç„¶æ˜¯ä¸€ç§å•†å“ï¼Œåªæ˜¯è¢«èµ‹äºˆäº†ã€Œå›ºå®šå……å½“ä¸€èˆ¬ç­‰ä»·ç‰©ã€çš„ç‰¹æ®ŠèŒèƒ½ã€‚</p>
                <p><span class="highlight">è´§å¸çš„å‡ºç°ï¼Œè§£å†³äº†å•†å“äº¤æ¢çš„æ—¶ç©ºçŸ›ç›¾ï¼Œå´ä¹ŸåŸ‹ä¸‹äº†å•†å“ç»æµçš„å†…åœ¨çŸ›ç›¾</span>ï¼šå•†å“ä¸è´§å¸çš„å¯¹ç«‹ï¼Œä½¿å¾—å•†å“çš„ä»·å€¼éœ€è¦é€šè¿‡è´§å¸æ¥ä½“ç°ï¼Œè€Œè¿™ç§å¯¹ç«‹æœ€ç»ˆä¼šæ¼”åŒ–ä¸ºèµ„æœ¬ä¸»ä¹‰çš„åŸºæœ¬çŸ›ç›¾ã€‚</p>
            </div>
        </section>

        <!-- æ ¸å¿ƒè®¤çŸ¥-å‰©ä½™ä»·å€¼ä¸èµ„æœ¬æœ¬è´¨ -->
        <section class="content-section" id="chapter2">
            <h2 class="section-title">æ ¸å¿ƒè®¤çŸ¥ Â· å‰©ä½™ä»·å€¼ä¸èµ„æœ¬çš„æœ¬è´¨</h2>
            <div class="note-card">
                <h4>ä¸€ã€å‰©ä½™ä»·å€¼ï¼šèµ„æœ¬ä¸»ä¹‰ç”Ÿäº§çš„æ ¸å¿ƒç›®çš„</h4>
                <p>è¿™æ˜¯ã€Šèµ„æœ¬è®ºã€‹æœ€æ ¸å¿ƒçš„ç†è®ºè´¡çŒ®ï¼Œä¹Ÿæ˜¯ç†è§£èµ„æœ¬è¿ä½œçš„æ ¸å¿ƒã€‚é©¬å…‹æ€æŒ‡å‡ºï¼Œèµ„æœ¬å®¶è´­ä¹°çš„æ˜¯å·¥äººçš„ã€ŒåŠ³åŠ¨åŠ›ã€ï¼Œè€Œéã€ŒåŠ³åŠ¨ã€ã€‚åŠ³åŠ¨åŠ›çš„ä»·å€¼ï¼Œæ˜¯ç»´æŒå·¥äººåŠå…¶å®¶åº­ç”Ÿå­˜çš„å¿…è¦åŠ³åŠ¨æ—¶é—´æ‰€åˆ›é€ çš„ä»·å€¼ï¼›è€Œå·¥äººåœ¨åŠ³åŠ¨ä¸­ï¼Œé™¤äº†åˆ›é€ è¿™ä»½ã€Œå¿…è¦ä»·å€¼ã€ï¼Œè¿˜ä¼šåˆ›é€ å‡ºé¢å¤–çš„ä»·å€¼â€”â€”è¿™å°±æ˜¯<span class="highlight">å‰©ä½™ä»·å€¼</span>ã€‚</p>
                <p>èµ„æœ¬å®¶é€šè¿‡å»¶é•¿åŠ³åŠ¨æ—¶é—´ã€æé«˜åŠ³åŠ¨ç”Ÿäº§ç‡ç­‰æ–¹å¼ï¼Œæ— å¿å æœ‰å·¥äººåˆ›é€ çš„å‰©ä½™ä»·å€¼ï¼Œè¿™å°±æ˜¯èµ„æœ¬å¢æ®–çš„æœ¬è´¨ã€‚èµ„æœ¬çš„å¤©æ€§ï¼Œå°±æ˜¯ä¸æ–­è¿½æ±‚å‰©ä½™ä»·å€¼ï¼Œä¸æ–­è‡ªæˆ‘å¢æ®–ï¼Œè¿™ç§å¤©æ€§å†³å®šäº†èµ„æœ¬çš„è´ªå©ªä¸æ‰©å¼ æ€§ã€‚</p>
                <div class="quote">åŸæ–‡æ‘˜å½•ï¼šã€Œèµ„æœ¬æ¥åˆ°ä¸–é—´ï¼Œä»å¤´åˆ°è„šï¼Œæ¯ä¸ªæ¯›å­”éƒ½æ»´ç€è¡€å’Œè‚®è„çš„ä¸œè¥¿ã€‚ã€</div>
            </div>

            <div class="note-card">
                <h4>äºŒã€èµ„æœ¬çš„æœ¬è´¨ï¼šä¸æ˜¯ç‰©ï¼Œè€Œæ˜¯ç¤¾ä¼šå…³ç³»</h4>
                <p>æœ€å®¹æ˜“è¢«è¯¯è§£çš„ä¸€ç‚¹ï¼Œæ˜¯å°†ã€Œèµ„æœ¬ã€ç­‰åŒäºã€Œé’±ã€æˆ–ã€Œæœºå™¨ã€ã€Œå‚æˆ¿ã€è¿™ç±»ç”Ÿäº§èµ„æ–™ã€‚ä½†é©¬å…‹æ€æ˜ç¡®æŒ‡å‡ºï¼š<span class="highlight">èµ„æœ¬ä¸æ˜¯ç‰©ï¼Œè€Œæ˜¯ä¸€ç§ä»¥ç‰©ä¸ºåª’ä»‹çš„äººä¸äººä¹‹é—´çš„ç¤¾ä¼šå…³ç³»</span>ã€‚</p>
                <p>ä¸€å°æœºå™¨ï¼Œåœ¨è‡ªç»™è‡ªè¶³çš„ç”Ÿäº§ä¸­åªæ˜¯ç”Ÿäº§å·¥å…·ï¼Œä¸æ˜¯èµ„æœ¬ï¼›åªæœ‰å½“å®ƒè¢«èµ„æœ¬å®¶å æœ‰ï¼Œç”¨æ¥é›‡ä½£å·¥äººã€ç”Ÿäº§å•†å“ã€æ¦¨å–å‰©ä½™ä»·å€¼æ—¶ï¼Œå®ƒæ‰æˆä¸ºèµ„æœ¬ã€‚èµ„æœ¬çš„æ ¸å¿ƒï¼Œæ˜¯èµ„æœ¬å®¶ä¸å·¥äººä¹‹é—´çš„å‰¥å‰Šä¸è¢«å‰¥å‰Šçš„å…³ç³»ï¼Œè¿™ç§å…³ç³»æ‰æ˜¯èµ„æœ¬çš„çµé­‚ã€‚</p>
                <p>ä¸ªäººæ„Ÿæ‚Ÿï¼šè¿™ä¸€è§‚ç‚¹å½»åº•é¢ è¦†äº†å¯¹ã€Œèµ„æœ¬ã€çš„è¡¨å±‚è®¤çŸ¥ã€‚èµ„æœ¬çš„æœ¬è´¨æ˜¯å…³ç³»ï¼Œè€Œéç‰©å“ï¼Œè¿™ä¹Ÿè§£é‡Šäº†ä¸ºä»€ä¹ˆèµ„æœ¬ä¼šä¸æ–­è¿½æ±‚æ‰©å¼ â€”â€”å› ä¸ºåªæœ‰ä¸æ–­æ‰©å¤§ç”Ÿäº§ã€ä¸æ–­é›‡ä½£æ›´å¤šå·¥äººï¼Œæ‰èƒ½æŒç»­æ¦¨å–å‰©ä½™ä»·å€¼ï¼Œç»´ç³»è¿™ç§ç¤¾ä¼šå…³ç³»ã€‚</p>
            </div>
        </section>

        <!-- å»¶ä¼¸æ€è€ƒ -->
        <section class="content-section" id="thinking">
            <h2 class="section-title">å»¶ä¼¸æ€è€ƒ Â· ç»å…¸ç†è®ºçš„å½“ä»£ä»·å€¼</h2>
            <div class="note-card">
                <h4>ã€Šèµ„æœ¬è®ºã€‹ä»æœªè¿‡æ—¶ï¼Œè€Œæ˜¯å†ä¹…å¼¥æ–°</h4>
                <p>æœ‰äººè¯´ã€Šèµ„æœ¬è®ºã€‹æ˜¯é’ˆå¯¹èµ„æœ¬ä¸»ä¹‰çš„æ‰¹åˆ¤ï¼Œåœ¨å½“ä¸‹çš„ç¤¾ä¼šç¯å¢ƒä¸­å·²æ— å‚è€ƒä»·å€¼ï¼Œä½†ç ”è¯»åæ‰å‘ç°ï¼Œè¿™éƒ¨è‘—ä½œçš„ä»·å€¼è¿œä¸æ­¢äºæ­¤ã€‚å®ƒæ­ç¤ºçš„æ˜¯ã€Œèµ„æœ¬ã€çš„è¿è¡Œè§„å¾‹ï¼Œè€Œåªè¦èµ„æœ¬ä¾ç„¶å­˜åœ¨ï¼Œè¿™äº›è§„å¾‹å°±ä¾ç„¶æœ‰æ•ˆã€‚</p>
                <p>å½“ä¸‹çš„æ¶ˆè´¹ä¸»ä¹‰ã€èµ„æœ¬æ‰©å¼ ã€è´«å¯Œåˆ†åŒ–ã€åŠ³åŠ¨å¼‚åŒ–ç­‰ç°è±¡ï¼Œéƒ½èƒ½åœ¨ã€Šèµ„æœ¬è®ºã€‹ä¸­æ‰¾åˆ°åº•å±‚é€»è¾‘çš„è§£é‡Šã€‚æ¯”å¦‚ã€ŒåŠ³åŠ¨å¼‚åŒ–ã€â€”â€”å·¥äººåœ¨åŠ³åŠ¨ä¸­å¤±å»äº†å¯¹è‡ªèº«åŠ³åŠ¨çš„æŒæ§ï¼ŒåŠ³åŠ¨æˆä¸ºè°‹ç”Ÿçš„æ‰‹æ®µè€Œéè‡ªæˆ‘å®ç°çš„é€”å¾„ï¼Œè¿™ç§çŠ¶æ€åœ¨å½“ä¸‹ä¾ç„¶æ™®éå­˜åœ¨ã€‚</p>
                <p><span class="highlight">ç ”è¯»ã€Šèµ„æœ¬è®ºã€‹ï¼Œä¸æ˜¯ä¸ºäº†æ‰¹åˆ¤ï¼Œè€Œæ˜¯ä¸ºäº†çœ‹æ¸…æœ¬è´¨</span>ï¼šçœ‹æ¸…èµ„æœ¬çš„å¤©æ€§ï¼Œçœ‹æ¸…ä»·å€¼çš„æ¥æºï¼Œçœ‹æ¸…åŠ³åŠ¨çš„æ„ä¹‰ã€‚åœ¨èµ„æœ¬ä¸»å¯¼çš„ç¤¾ä¼šä¸­ï¼Œä¿æŒæ¸…é†’çš„è®¤çŸ¥ï¼Œå®ˆä½è‡ªèº«çš„ä»·å€¼åˆ¤æ–­ï¼Œè¿™æˆ–è®¸æ˜¯è¿™éƒ¨ç»å…¸ç•™ç»™æˆ‘ä»¬æœ€çè´µçš„å¯ç¤ºã€‚</p>
                <p>è¯»ä¹¦ä¹‹è·¯æ¼«æ¼«ï¼Œã€Šèµ„æœ¬è®ºã€‹çš„åšå¤§ç²¾æ·±ï¼Œéä¸€æœä¸€å¤•èƒ½è¯»æ‡‚ã€‚åç»­ä¼šæŒç»­æ›´æ–°å„å·çš„ç ”è¯»å¿ƒå¾—ï¼Œä¸æ–­å®Œå–„è®¤çŸ¥ï¼Œä¹Ÿæ„¿ä¸æ‰€æœ‰çƒ­çˆ±æ€è€ƒã€çƒ­çˆ±ç»å…¸çš„æœ‹å‹ä¸€åŒè¿›æ­¥ã€‚</p>
            </div>
        </section>
    </div>

    <!-- å›åˆ°é¡¶éƒ¨æŒ‰é’® -->
    <div class="back-to-top" id="backToTop">â†‘</div>

    <!-- é¡µè„š -->
    <footer>
        <p>ã€Šèµ„æœ¬è®ºã€‹ç ”è¯»å¿ƒå¾— Â· ä¸ªäººè¯»ä¹¦ç¬”è®° | ç”¨å¿ƒè¯»ç»å…¸ï¼Œä»¥æ‚ŸçŸ¥æœ¬è´¨ Â© 2026</p>
    </footer>

    <!-- ====================== æ–°å¢ï¼šåˆ’çº¿è¯„è®ºåŠŸèƒ½ æ‰€æœ‰HTMLç»“æ„ ====================== -->
    <!-- é€‰ä¸­æ–‡æœ¬æ‚¬æµ®èœå• -->
    <div class="selection-menu" id="selectionMenu">
        <button id="onlyMarkBtn">ä»…åˆ’çº¿æ ‡æ³¨</button>
        <button id="addCommentBtn">åˆ’çº¿+å†™è¯„è®º</button>
    </div>
    <!-- è¯„è®ºè¾“å…¥å¼¹çª— -->
    <div class="comment-modal" id="commentModal">
        <h5>æ·»åŠ ä½ çš„è¯»ä¹¦ç¬”è®°/æ‰¹æ³¨</h5>
        <textarea id="commentInput" placeholder="å†™ä¸‹ä½ çš„æ€è€ƒã€æ„Ÿæ‚Ÿã€æ‰¹æ³¨..."></textarea>
        <div class="modal-btn-group">
            <button class="btn-cancel" id="cancelBtn">å–æ¶ˆ</button>
            <button class="btn-save" id="saveCommentBtn">ä¿å­˜æ‰¹æ³¨</button>
        </div>
    </div>
    <!-- æˆ‘çš„æ‰¹æ³¨é¢æ¿ -->
    <div class="comment-panel" id="commentPanel">
        <h4>ğŸ“– æˆ‘çš„è¯»ä¹¦ç¬”è®°</h4>
        <div id="commentList" class="comment-list"></div>
        <button class="clear-all" id="clearAllBtn">æ¸…ç©ºæ‰€æœ‰æ‰¹æ³¨</button>
    </div>

    <script>
        // åŸæœ‰æ‰€æœ‰åŠŸèƒ½é€»è¾‘ - å®Œå…¨ä¿ç•™
        const backToTop = document.getElementById('backToTop');
        window.addEventListener('scroll', () => {
            if (window.scrollY > 300) {
                backToTop.classList.add('show');
            } else {
                backToTop.classList.remove('show');
            }
        });
        backToTop.addEventListener('click', () => {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });

        // ====================== æ–°å¢ï¼šåˆ’çº¿è¯„è®ºåŠŸèƒ½ å®Œæ•´æ ¸å¿ƒJSé€»è¾‘ ======================
        // æ ¸å¿ƒå˜é‡å®šä¹‰
        const selectionMenu = document.getElementById('selectionMenu');
        const commentModal = document.getElementById('commentModal');
        const commentPanel = document.getElementById('commentPanel');
        const onlyMarkBtn = document.getElementById('onlyMarkBtn');
        const addCommentBtn = document.getElementById('addCommentBtn');
        const saveCommentBtn = document.getElementById('saveCommentBtn');
        const cancelBtn = document.getElementById('cancelBtn');
        const clearAllBtn = document.getElementById('clearAllBtn');
        const commentInput = document.getElementById('commentInput');
        const commentList = document.getElementById('commentList');
        let selectedText = '';
        let selectedRange = null;
        const STORAGE_KEY = 'marx_note_highlights';

        // åˆå§‹åŒ–ï¼šé¡µé¢åŠ è½½æ—¶æ¸²æŸ“æ‰€æœ‰å†å²åˆ’çº¿å’Œè¯„è®º
        window.addEventListener('DOMContentLoaded', renderHighlights);

        // ç›‘å¬é€‰ä¸­æ–‡æœ¬äº‹ä»¶
        document.addEventListener('mouseup', (e) => {
            const selection = window.getSelection();
            selectedText = selection.toString().trim();
            if (selectedText && selection.rangeCount > 0) {
                selectedRange = selection.getRangeAt(0);
                const rect = selectedRange.getBoundingClientRect();
                // å®šä½æ‚¬æµ®èœå•åˆ°é€‰ä¸­æ–‡æœ¬ä¸‹æ–¹
                selectionMenu.style.left = `${rect.left + window.scrollX}px`;
                selectionMenu.style.top = `${rect.bottom + window.scrollY + 5}px`;
                selectionMenu.style.display = 'flex';
            } else {
                selectionMenu.style.display = 'none';
            }
        });

        // ç‚¹å‡»ç©ºç™½å¤„éšè—èœå•
        document.addEventListener('mousedown', (e) => {
            if (!selectionMenu.contains(e.target) && !commentModal.contains(e.target)) {
                selectionMenu.style.display = 'none';
            }
        });

        // ä»…åˆ’çº¿æ ‡æ³¨
        onlyMarkBtn.addEventListener('click', () => {
            if (selectedText) {
                saveHighlight(selectedText, '');
                highlightSelectedText();
                hideMenuAndModal();
            }
        });

        // æ‰“å¼€è¯„è®ºå¼¹çª—
        addCommentBtn.addEventListener('click', () => {
            if (selectedText) {
                commentInput.value = '';
                commentModal.style.display = 'block';
                commentInput.focus();
                selectionMenu.style.display = 'none';
            }
        });

        // å–æ¶ˆè¯„è®º
        cancelBtn.addEventListener('click', () => {
            hideMenuAndModal();
        });

        // ä¿å­˜è¯„è®º+åˆ’çº¿
        saveCommentBtn.addEventListener('click', () => {
            const comment = commentInput.value.trim();
            if (selectedText) {
                saveHighlight(selectedText, comment);
                highlightSelectedText();
                hideMenuAndModal();
            }
        });

        // æ¸…ç©ºæ‰€æœ‰æ‰¹æ³¨
        clearAllBtn.addEventListener('click', () => {
            if (confirm('ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰åˆ’çº¿å’Œæ‰¹æ³¨å—ï¼Ÿæ•°æ®å°†æ°¸ä¹…åˆ é™¤ï¼')) {
                localStorage.removeItem(STORAGE_KEY);
                document.querySelectorAll('mark.highlight-text').forEach(mark => {
                    const parent = mark.parentNode;
                    parent.replaceChild(document.createTextNode(mark.textContent), mark);
                    parent.normalize();
                });
                renderComments();
            }
        });

        // æ ¸å¿ƒæ–¹æ³•ï¼šä¿å­˜åˆ’çº¿å’Œè¯„è®ºåˆ°æœ¬åœ°å­˜å‚¨
        function saveHighlight(text, comment) {
            const highlights = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');
            highlights.push({
                id: Date.now(),
                text: text,
                comment: comment,
                time: new Date().toLocaleString('zh-CN')
            });
            localStorage.setItem(STORAGE_KEY, JSON.stringify(highlights));
            renderComments();
        }

        // æ ¸å¿ƒæ–¹æ³•ï¼šç»™é€‰ä¸­çš„æ–‡æœ¬æ·»åŠ é«˜äº®æ ·å¼
        function highlightSelectedText() {
            const mark = document.createElement('mark');
            mark.className = 'highlight-text';
            selectedRange.surroundContents(mark);
            window.getSelection().removeAllRanges();
        }

        // æ¸²æŸ“æ‰€æœ‰å†å²åˆ’çº¿
        function renderHighlights() {
            const highlights = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');
            highlights.forEach(item => {
                highlightTextInPage(item.text);
            });
            renderComments();
        }

        // é¡µé¢å†…æ–‡æœ¬é«˜äº®åŒ¹é…
        function highlightTextInPage(text) {
            const walker = document.createTreeWalker(document.body, NodeFilter.SHOW_TEXT, null, false);
            const nodes = [];
            let node;
            while (node = walker.nextNode()) {
                if (node.parentElement && !['SCRIPT', 'STYLE', 'TEXTAREA', 'BUTTON'].includes(node.parentElement.tagName)) {
                    nodes.push(node);
                }
            }
            nodes.forEach(node => {
                const content = node.textContent;
                const index = content.indexOf(text);
                if (index !== -1) {
                    const mark = document.createElement('mark');
                    mark.className = 'highlight-text';
                    const textNode = document.createTextNode(text);
                    mark.appendChild(textNode);
                    const parent = node.parentNode;
                    parent.insertBefore(document.createTextNode(content.substring(0, index)), node);
                    parent.insertBefore(mark, node);
                    node.textContent = content.substring(index + text.length);
                }
            });
        }

        // æ¸²æŸ“æ‰¹æ³¨åˆ—è¡¨
        function renderComments() {
            const highlights = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');
            commentList.innerHTML = '';
            if (highlights.length === 0) {
                commentList.innerHTML = '<div class="empty-tip">æš‚æ— æ‰¹æ³¨ï¼Œé€‰ä¸­æ–‡æœ¬å¯æ·»åŠ åˆ’çº¿/è¯„è®º</div>';
                return;
            }
            // å€’åºå±•ç¤ºï¼Œæœ€æ–°çš„åœ¨æœ€ä¸Šé¢
            highlights.reverse().forEach(item => {
                const itemDom = document.createElement('div');
                itemDom.className = 'comment-item';
                itemDom.innerHTML = `
                    <span class="mark-text">ã€Œ${item.text}ã€</span>
                    ${item.comment ? `<div class="mark-comment">âœï¸ ${item.comment}</div>` : ''}
                    <div class="mark-time">${item.time}</div>
                    <button class="del-btn" data-id="${item.id}">åˆ é™¤æ­¤æ‰¹æ³¨</button>
                `;
                commentList.appendChild(itemDom);
                // åˆ é™¤å•æ¡æ‰¹æ³¨
                itemDom.querySelector('.del-btn').addEventListener('click', (e) => {
                    const id = parseInt(e.target.dataset.id);
                    const newHighlights = highlights.filter(h => h.id !== id);
                    localStorage.setItem(STORAGE_KEY, JSON.stringify(newHighlights));
                    renderHighlights();
                });
            });
        }

        // éšè—èœå•å’Œå¼¹çª—
        function hideMenuAndModal() {
            selectionMenu.style.display = 'none';
            commentModal.style.display = 'none';
            window.getSelection().removeAllRanges();
            selectedText = '';
            selectedRange = null;
        }
    </script>
</body>
</html>
